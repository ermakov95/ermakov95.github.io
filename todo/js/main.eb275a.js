!function(){"use strict";var e,t={},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,o,a,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var l=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(l=!1,r<i&&(i=r));if(l){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",function(){n.b=document.baseURI||self.location.href;var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],l=o[1],c=o[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(c)var d=c(n)}for(t&&t(o);s<i.length;s++)r=i[s],n.o(e,r)&&e[r]&&e[r][0](),e[i[s]]=0;return n.O(d)},o=self.webpackChunkToDoNotes_VanillaJS=self.webpackChunkToDoNotes_VanillaJS||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var a={};function r(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw r}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var l=JSON.parse(localStorage.getItem("todo"))||[[0,"Название заметки",[[!0,"Выполненный todo италиком"],[!1,"Невыполненный todo"],[!0,"Выполненный todo италиком"],[!1,"Невыполненный todo"]]],[1,"Название заметки",[[!1,"Lorem, ipsum dolor sit amet"],[!0,"Сonsectetur adipisicing elit"],[!1,"Autem veniam quam dolorem"]]],[3,"Заметка с длинным названием",[[!0,"Autem veniam quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"],[!0,"Сonsectetur adipisicing elit"]]],[5,"Заметка с очень длинным названием",[[!1,"Сonsectetur adipisicing elit"],[!0,"Autem veniam quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"]]],[6,"Название <span> заметки </span>",[[!1,"Lorem, ipsum <br> dolor sit amet"],[!0,"Сonsectetur adipisicing elit"],[!1,"Autem veniam quam dolorem"]]],[8,"Заметка с длинным названием",[[!0,"Autem veniam quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"],[!0,"Сonsectetur adipisicing elit"]]],[9,"Заметка с очень длинным названием",[[!1,"Сonsectetur adipisicing elit"],[!0,"Autem veniam quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"]]],[12,"<button> Заметка </button>",[[!1,"Lorem, ipsum dolor sit amet"],[!0,"Сonsectetur adipisicing elit"],[!1,"Autem veniam <br> quam dolorem"]]],[14,"Заметка с длинным названием",[[!0,"Autem veniam <br> quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"],[!0,"Сonsectetur adipisicing elit"]]],[15,"Заметка с очень <br> длинным названием",[[!1,"Сonsectetur adipisicing elit"],[!0,"Autem veniam <br> quam dolorem"],[!1,"Lorem, ipsum dolor sit amet"]]]],c=document.getElementsByClassName("note"),s=document.querySelector(".notes"),d=function(){var e,t=[],o=r(c);try{for(o.s();!(e=o.n()).done;){var n=e.value;t.push(n.id)}}catch(e){o.e(e)}finally{o.f()}var a,i=r(l);try{for(i.s();!(a=i.n()).done;){var d=a.value;if(!t.includes("".concat(d[0],"-note"))){var u=document.createElement("div");u.className="note",u.id="".concat(d[0],"-note");var p=document.createElement("div");p.className="note__title",p.append(d[1]);var m=document.createElement("div");m.className="note__text";var f,v=r(d[2]);try{for(v.s();!(f=v.n()).done;){var h=f.value;if(h[0]){var g=document.createElement("span");g.className="it",g.append(h[1]),m.append(g),m.insertAdjacentHTML("beforeend","<br>")}else m.append(h[1]),m.insertAdjacentHTML("beforeend","<br>")}}catch(e){v.e(e)}finally{v.f()}var y=document.createElement("button");y.className="note__delete",y.append("Х"),u.append(p),u.append(m),u.append(y),s.append(u)}}}catch(e){i.e(e)}finally{i.f()}localStorage.setItem("todo",JSON.stringify(l))};d();var u,p,m=document.querySelector(".wrap"),f=document.querySelector(".edit__info"),v=document.querySelector(".edit__title"),h=document.querySelector(".edit__todos"),g=document.getElementsByClassName("edit__todo"),y=document.querySelector(".popup"),b=document.querySelector(".popup-inner"),_=[],L=[],A="main",k="none",S=0,q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];A=e,v.value=t,h.innerHTML=o,S=n,u=a,p=r,_=i,L=l};document.addEventListener("click",(function(e){if(e.target.closest(".new-note"))m.classList.remove("main-page"),m.classList.add("edit-page"),q("new");else if(e.target.closest(".note")&&!e.target.closest(".note__delete")){var t;m.classList.remove("main-page"),m.classList.add("edit-page"),u=+(u=e.target.closest(".it")||e.target.closest("br")?e.path[2].id:e.target.closest(".note__title")||e.target.closest(".note__text")?e.path[1].id:e.path[0].id).match(/\d+/),p=0;var o,n=r(l);try{for(n.s();!(o=n.n()).done;){var a=o.value;if(u===+a[0]){t=a;break}p++}}catch(e){n.e(e)}finally{n.f()}S=0;var i,s="",j=r(t[2]);try{for(j.s();!(i=j.n()).done;){var E=i.value;s+='\n            <div id="'.concat(S,'-todo" class="edit__todo">\n                <input type="checkbox", class="edit__check", ').concat(E[0]?"checked":"",'>\n                <input type="text", placeholder="Название todo ').concat(S++,'", value="').concat(E[1],'">\n                <button>X</button>\n            </div>')}}catch(e){j.e(e)}finally{j.f()}q("old",t[1],s,S,u,p)}else if(e.target.closest(".edit__add-todo"))_.push(["add-todo",S]),h.insertAdjacentHTML("beforeend",'<div id="'.concat(S,'-todo" class="edit__todo">\n                <input type="checkbox" class="edit__check">\n                <input type="text", placeholder="Название todo ').concat(S++,'">\n                <button>X</button>\n            </div>'));else if(e.target.closest(".edit__todo button"))_.push(["remove-todo",+e.path[1].id.match(/\d+/),g[e.path[1].id]]),g[e.path[1].id].remove();else if(e.target.closest(".save-note")){var N,O=[],w=r(g);try{for(w.s();!(N=w.n()).done;){var x=N.value.querySelectorAll("input");x[1].value&&O.push([x[0].checked,x[1].value])}}catch(e){w.e(e)}finally{w.f()}if(v.value&&O.length>0){if("new"===A)l.push([l[l.length-1][0]+1,v.value,O]);else if("old"===A){l[p]=[u,v.value,O];var T=c["".concat(u,"-note")];T.firstChild.innerHTML="",T.firstChild.append(v.value),T.childNodes[1].innerHTML="",O.forEach((function(e){if(e[0]){var t=document.createElement("span");t.className="it",t.append(e[1]),T.childNodes[1].append(t),T.childNodes[1].insertAdjacentHTML("beforeend","<br>")}else T.childNodes[1].append(e[1]),T.childNodes[1].insertAdjacentHTML("beforeend","<br>")}))}d(),m.classList.add("main-page"),m.classList.remove("edit-page"),f.style.display="none",q()}else f.style.display="block"}else if(e.target.closest(".cancel-note"))k="cancel",b.querySelectorAll("span")[0].style.display="block",y.classList.add("active"),b.classList.add("active");else if(e.target.closest(".delete-note")||e.target.closest(".note__delete"))k="delete",b.querySelectorAll("span")[1].style.display="block",y.classList.add("active"),b.classList.add("active"),e.target.closest(".note__delete")&&(u=+(u=e.path[1].id).match(/\d+/));else if(e.target.closest(".popup__no")||e.target.closest(".popup__exit")||e.target===y)k="none",y.classList.remove("active"),b.classList.remove("active"),b.querySelectorAll("span")[0].style.display="none",b.querySelectorAll("span")[1].style.display="none",u=null;else if(e.target.closest(".popup__yes")){if("delete"===k&&"old"===A)l.splice(p,1),c["".concat(u,"-note")].remove();else if("delete"===k&&"main"===A){c["".concat(u,"-note")].remove();for(var M=0;M<l.length;M++)if(l[M][0]===u){l.splice(M,1);break}}d(),k="none",y.classList.remove("active"),b.classList.remove("active"),b.querySelectorAll("span")[0].style.display="none",b.querySelectorAll("span")[1].style.display="none","main"!==A&&(m.classList.add("main-page"),m.classList.remove("edit-page")),f.style.display="none",q()}else if(e.target.closest(".edit__check"))_.push(["check-toggle",g[e.path[1].id]]);else if(e.target.closest(".edit__cancel")){var H=_.length;if(H>0){var C=_[H-1],I=C[1];if("add-todo"===C[0]&&g["".concat(I,"-todo")])L.push(["remove-todo",I,g["".concat(I,"-todo")]]),g["".concat(I,"-todo")].remove(),_.pop();else if("remove-todo"===C[0]&&C[2]){if(L.push(["add-todo",I]),0===g.length||I<+g[0].id.match(/\d+/))h.insertAdjacentElement("afterbegin",C[2]);else if(I>+g[g.length-1].id.match(/\d+/))h.insertAdjacentElement("beforeend",C[2]);else for(var J=0;J<g.length-1;J++)I>+g[J].id.match(/\d+/)&&I<+g[J+1].id.match(/\d+/)&&g[J].insertAdjacentElement("afterend",C[2]);_.pop()}else"check-toggle"===C[0]&&(C[1].children[0].checked=!C[1].children[0].checked,L.push(_.pop()))}}else if(e.target.closest(".edit__repeat")){var B=L.length;if(B>0){var D=L[B-1],P=D[1];if("add-todo"===D[0]&&g["".concat(P,"-todo")])_.push(["remove-todo",P,g["".concat(P,"-todo")]]),g["".concat(P,"-todo")].remove(),L.pop();else if("remove-todo"===D[0]&&D[2]){if(_.push(["add-todo",P]),0===g.length||P<+g[0].id.match(/\d+/))h.insertAdjacentElement("afterbegin",D[2]);else if(P>+g[g.length-1].id.match(/\d+/))h.insertAdjacentElement("beforeend",D[2]);else for(var U=0;U<g.length-1;U++)P>+g[U].id.match(/\d+/)&&P<+g[U+1].id.match(/\d+/)&&g[U].insertAdjacentElement("afterend",D[2]);L.pop()}else"check-toggle"===D[0]&&(D[1].children[0].checked=!D[1].children[0].checked,_.push(L.pop()))}}})),a=n.O(a)}();